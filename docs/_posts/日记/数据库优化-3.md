## 数据库性能问题


## sql执行轨迹

与mysql 必知必会一样
service层\引擎层

可以优化的地方: 连接器,优化器,引擎

### 连接器:
1. 长连接被长时间占用,长连接oom
2. 短连接大量建立/废弃

### 优化器:
**逻辑转换:**
sql查询字段与数据库字段一直
**最优路径选择:**



## 业务经典场景
**left join** 
1. 非驱动表的关联字段加上索引
2. 小表驱动大表
3. 驱动表基于临时表提前过滤出小数据的join数据
4. 大量的join业务适当增加session维度的join Buffer
5. 不要用*作为查询列,只返回需要的列

**count**
1. 冗余存储
2. 拒绝无效join
3. 前端限制妥协,不显示总数
4. 减少回表和增加限制条件
5. 函数选择 count( * ) ( 索引字段 )

**Offset**
优化覆盖索引


## 数据库锁


## 集群健康
